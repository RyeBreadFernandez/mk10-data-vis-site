"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[8576],{72235:(f,r,a)=>{a.d(r,{l:()=>D});var e=a(74848),d=a(32196),l=a(96540),u=a(49785);function D({defaultValues:E,onSubmit:g,validateOnMount:t=!1,validateFieldsOnMount:i,children:M,validateOn:v="onSubmit",maxWidth:o=600,...O}){const{handleSubmit:h,trigger:_,formState:c,...P}=(0,u.mN)({mode:v,defaultValues:E});return(0,l.useEffect)(()=>{t&&_(i)},[_,i,t]),(0,e.jsx)("form",{className:(0,d.css)({maxWidth:o!=="none"?o+"px":o,width:"100%"}),onSubmit:h(g),...O,children:M({errors:c.errors,formState:c,trigger:_,...P})})}},14383:(f,r,a)=>{a.r(r),a.d(r,{SignupInvitedPage:()=>P,default:()=>x});var e=a(74848),d=a(32196),l=a(96540),u=a(54148),D=a(16817),E=a(17172),g=a(40845),t=a(88575),i=a(10354),M=a(55852),v=a(72235),o=a(21780),O=a(2913),h=a(10096),_=a(35538);const c={main:{icon:"grafana",text:"Invite",subTitle:"Register your Grafana account",breadcrumbs:[{title:"Login",url:"login"}]},node:{text:""}},P=()=>{const{code:m}=(0,u.g)(),[p,A]=(0,l.useState)(),[B,C]=(0,l.useState)(),[U,j]=(0,l.useState)(),T=(0,g.of)(I);(0,D.A)(async()=>{const n=await(0,E.AI)().get(`/api/user/invite/${m}`);A({email:n.email,name:n.name,username:n.email}),C(n.name||n.email||n.username),j(n.invitedBy)},[m]);const L=async n=>{await(0,E.AI)().post("/api/user/invite/complete",{...n,inviteCode:m}),window.location.href=(0,O.zj)().appSubUrl+"/"};return p?(0,e.jsx)(o.YW,{navModel:c,children:(0,e.jsxs)(o.YW.Contents,{children:[(0,e.jsxs)("h3",{className:"page-sub-heading",children:["Hello ",B||"there","."]}),(0,e.jsxs)("div",{className:(0,d.cx)("modal-tagline",T.tagline),children:[(0,e.jsx)("em",{children:U||"Someone"})," has invited you to join Grafana and the organization"," ",(0,e.jsx)("span",{className:"highlight-word",children:h.TP.user.orgName}),(0,e.jsx)("br",{}),"Please complete the following and choose a password to accept your invitation and continue:"]}),(0,e.jsx)(v.l,{defaultValues:p,onSubmit:L,children:({register:n,errors:s})=>(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.D,{invalid:!!s.email,error:s.email&&s.email.message,label:"Email",children:(0,e.jsx)(i.p,{placeholder:"email@example.com",...n("email",{required:"Email is required",pattern:{value:_.pL,message:"Email is invalid"}})})}),(0,e.jsx)(t.D,{invalid:!!s.name,error:s.name&&s.name.message,label:"Name",children:(0,e.jsx)(i.p,{placeholder:"Name (optional)",...n("name")})}),(0,e.jsx)(t.D,{invalid:!!s.username,error:s.username&&s.username.message,label:"Username",children:(0,e.jsx)(i.p,{...n("username",{required:"Username is required"}),placeholder:"Username"})}),(0,e.jsx)(t.D,{invalid:!!s.password,error:s.password&&s.password.message,label:"Password",children:(0,e.jsx)(i.p,{...n("password",{required:"Password is required"}),type:"password",placeholder:"Password"})}),(0,e.jsx)(M.$n,{type:"submit",children:"Sign up"})]})})]})}):null},I=m=>({tagline:(0,d.css)({paddingBottom:m.spacing(3)})}),x=P}}]);

//# sourceMappingURL=SignupInvited.3423b2f647890b12aff2.js.map