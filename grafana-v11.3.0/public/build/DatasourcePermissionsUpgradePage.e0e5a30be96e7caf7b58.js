"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[7785],{6019:(i,c,t)=>{t.d(c,{Ay:()=>P});var n=t(74848),u=t(40845),o=t(77454),d=t(85464);const a=({uid:r})=>((0,d.oU)(r),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Iz,{featureName:"data source permissions",featureId:"data-source-permissions"}),(0,n.jsx)(_,{})]})),_=({action:r})=>{const l=(0,u.$j)();return(0,n.jsx)(o.El,{action:r,featureName:"data source permissions",description:"With data source permissions, you can protect sensitive data by limiting access to this data source to specific users, teams, and roles.",listItems:["Protect sensitive data, like security logs, production databases, and personally-identifiable information","Clean up users\u2019 experience by hiding data sources they don\u2019t need to use","Share Grafana access more freely, knowing that users will not unwittingly see sensitive data"],image:`ds-permissions-${l.isLight?"light":"dark"}.png`,featureUrl:"https://grafana.com/docs/grafana/latest/enterprise/datasource_permissions"})},P=a},48326:(i,c,t)=>{t.r(c),t.d(c,{UpgradePage:()=>r,default:()=>l});var n=t(74848),u=t(54148),o=t(21780),d=t(17422),a=t(85464),_=t(31678),P=t(6019);const r=()=>{const{uid:M=""}=(0,u.g)(),O=(0,a.$m)("permissions"),U=(0,_.useSelector)(C=>C.navIndex),p=(0,d.tc)(U,`datasource-permissions-${M}`,O);return(0,n.jsx)(o.YW,{navId:"datasources",pageNav:p.main,children:(0,n.jsx)(o.YW.Contents,{children:(0,n.jsx)(P.Ay,{uid:M})})})},l=r},458:(i,c,t)=>{t.d(c,{C:()=>o});var n=t(96540),u=t(83883);const o=(0,n.createContext)(u.I)},11084:(i,c,t)=>{t.d(c,{$k:()=>m,BY:()=>p,S4:()=>I,Tn:()=>B,US:()=>C,Um:()=>A,_e:()=>g,aM:()=>h,hx:()=>v,k9:()=>T,oU:()=>U,u1:()=>L,xw:()=>S});var n=t(96540),u=t(97007),o=t(28138),d=t(10096),a=t(31678),_=t(28444),P=t(11959),r=t(34258),l=t(458),M=t(36227),O=t(54226);const U=s=>{const e=(0,a.useDispatch)();(0,n.useEffect)(()=>(e((0,r.PK)(s)),function(){e((0,u.N)({cleanupAction:D=>D.dataSourceSettings=M.IJ}))}),[s,e])},p=s=>{const e=(0,a.useDispatch)(),E=h();return()=>e((0,r.Ge)(s,E.Edit))},C=()=>{const s=(0,a.useDispatch)(),e=(0,a.useSelector)(D=>D.dataSources.isLoadingDataSources),E=(0,a.useSelector)(D=>D.dataSources.dataSources);return(0,n.useEffect)(()=>{s((0,r.bn)())},[s]),{isLoading:e,dataSources:E}},W=s=>{const e=useDispatch();useEffect(()=>{e(loadDataSource(s))},[e,s])},v=()=>{const s=(0,a.useDispatch)();(0,n.useEffect)(()=>{s((0,r.G2)())},[s])},A=()=>{const s=(0,a.useDispatch)(),e=h();return E=>{s((0,r.du)(E,e.Edit))}},T=()=>{const s=(0,a.useDispatch)();return async e=>s((0,r.jB)(e))},m=()=>{const s=(0,a.useDispatch)(),{name:e}=(0,a.useSelector)(E=>E.dataSources.dataSource);return()=>{o.A.publish(new _.bY({title:"Delete",text:`Are you sure you want to delete the "${e}" data source?`,yesText:"Delete",icon:"trash-alt",onConfirm:()=>s((0,r.Qq)())}))}},S=s=>(0,a.useSelector)(e=>(0,O.U4)(e.dataSources,s)),B=s=>{const e=S(s);return(0,P.h)(e)},I=s=>(0,a.useSelector)(e=>(0,O.Fj)(e.dataSources,s)),g=()=>(0,a.useSelector)(s=>s.dataSourceSettings),L=s=>{const e=S(s),E=e.readOnly===!0,D=d.TP.hasPermissionInMetadata(a.AccessControlAction.DataSourcesWrite,e),R=d.TP.hasPermissionInMetadata(a.AccessControlAction.DataSourcesDelete,e);return{readOnly:E,hasWriteRights:D,hasDeleteRights:R}},h=()=>(0,n.useContext)(l.C)},85464:(i,c,t)=>{t.d(c,{$k:()=>o.$k,$m:()=>d.$m,BY:()=>o.BY,Bs:()=>a.Bs,CR:()=>u.C,C_:()=>a.C_,S4:()=>o.S4,Tk:()=>a.Tk,Tn:()=>o.Tn,US:()=>o.US,Um:()=>o.Um,_e:()=>o._e,aM:()=>o.aM,du:()=>n.du,eB:()=>a.eB,hp:()=>_.hp,hx:()=>o.hx,jz:()=>a.jz,k9:()=>o.k9,lv:()=>_.lv,oU:()=>o.oU,rb:()=>a.rb,u1:()=>o.u1,wC:()=>_.wC,xs:()=>_.xs,xw:()=>o.xw,zC:()=>_.zC});var n=t(34258),u=t(458),o=t(11084),d=t(74984),a=t(36227),_=t(54226)},11959:(i,c,t)=>{t.d(c,{h:()=>o});var n=t(76885),u=t(71733);const o=d=>{const a=JSON.stringify({datasource:d.name,context:"explore"});return n.kM.renderUrl(u.I.assureBaseUrl("/explore"),{left:a})}}}]);

//# sourceMappingURL=DatasourcePermissionsUpgradePage.e0e5a30be96e7caf7b58.js.map