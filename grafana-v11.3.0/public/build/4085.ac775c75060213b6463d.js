"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[4085],{14591:(_,Y,s)=>{s.d(Y,{i:()=>J});var t=s(74848),f=s(32196),F=s(96540),$=s(40845),A=s(64047);const J=({label:P,description:U,children:O,className:V,size:M="xl"})=>{const B=(0,$.of)(N),[D,n]=(0,F.useState)(!0),c=()=>n(!D);return(0,t.jsxs)("div",{className:(0,f.cx)(B.wrapper,V),children:[(0,t.jsx)(A.e,{className:B.toggle,size:M,onToggle:c,isCollapsed:D,text:P}),U&&(0,t.jsx)("p",{className:B.description,children:U}),(0,t.jsx)("div",{className:D?B.hidden:B.content,children:O})]})},N=P=>({wrapper:(0,f.css)({marginTop:P.spacing(1),paddingBottom:P.spacing(1)}),toggle:(0,f.css)({margin:P.spacing(1,0),padding:0}),hidden:(0,f.css)({display:"none"}),description:(0,f.css)({color:P.colors.text.secondary,fontSize:P.typography.size.sm,fontWeight:P.typography.fontWeightRegular,margin:0}),content:(0,f.css)({paddingLeft:P.spacing(3)})})},23807:(_,Y,s)=>{s.d(Y,{e:()=>ae});var t=s(74848),f=s(32196),F=s(2543),$=s(96540),A=s(49785),J=s(88575),N=s(40845),P=s(10880),U=s(9226),O=s(10354),V=s(90182),M=s(83186),B=s(58724),D=s(21744),n=s(55852),c=s(72275);const d=({value:e,onChange:r,readOnly:a=!1})=>{const l=(0,N.of)(p),[u,o]=(0,$.useState)(v(e));(0,$.useEffect)(()=>o(v(e)),[e]);const i=h=>{r(C(h))},m=h=>{const x=u.slice(),g=x.splice(h,1)[0];o(x),g[0]&&i(x)},y=(h,x)=>{const g=u[x],E=u.map((S,b)=>b===x?h:S);o(E),(h[0]||g[0])&&i(E)};return(0,t.jsxs)("div",{children:[!!u.length&&(0,t.jsxs)("table",{className:l.table,children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Name"}),(0,t.jsx)("th",{children:"Value"}),!a&&(0,t.jsx)("th",{})]})}),(0,t.jsx)("tbody",{children:u.map(([h,x],g)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)(O.p,{readOnly:a,value:h,onChange:E=>y([E.currentTarget.value,x],g)})}),(0,t.jsx)("td",{children:(0,t.jsx)(O.p,{readOnly:a,value:x,onChange:E=>y([h,E.currentTarget.value],g)})}),!a&&(0,t.jsx)("td",{children:(0,t.jsx)(c.M,{icon:"trash-alt",tooltip:"delete",onClick:()=>m(g)})})]},g))})]}),!a&&(0,t.jsx)(n.$n,{className:l.addButton,type:"button",variant:"secondary",icon:"plus",size:"sm",onClick:()=>o([...u,["",""]]),children:"Add"})]})},p=e=>({addButton:(0,f.css)({marginTop:e.spacing(1)}),table:(0,f.css)({"tbody td":{padding:`0 ${e.spacing(1)} ${e.spacing(1)} 0`}})}),C=e=>{const r={};for(const[a,l]of e)a&&(r[a]=l);return r},v=e=>Object.entries(e??{}),j=({value:e,onChange:r,readOnly:a=!1})=>{const l=(0,N.of)(I),u=i=>{if(!e)return;const m=e.slice();m.splice(i,1),r(m)},o=(i,m)=>{e&&r(e.map((y,h)=>h===m?i:y))};return(0,t.jsxs)("div",{children:[!!e?.length&&e.map((i,m)=>(0,t.jsxs)("div",{className:l.row,children:[(0,t.jsx)(O.p,{readOnly:a,value:i,onChange:y=>o(y.currentTarget.value,m)}),!a&&(0,t.jsx)(c.M,{className:l.deleteIcon,icon:"trash-alt",tooltip:"delete",onClick:()=>u(m)})]},m)),!a&&(0,t.jsx)(n.$n,{className:l.addButton,type:"button",variant:"secondary",icon:"plus",size:"sm",onClick:()=>r([...e??[],""]),children:"Add"})]})},I=e=>({row:(0,f.css)({display:"flex",flexDirection:"row",marginBottom:e.spacing(1),alignItems:"center"}),deleteIcon:(0,f.css)({marginLeft:e.spacing(1)}),addButton:(0,f.css)({marginTop:e.spacing(1)})});var L=s(45124),w=s(14591);const ee=e=>({collapsibleSection:(0,f.css)({margin:0,padding:0}),wrapper:(0,f.css)({margin:e.spacing(2,0),padding:e.spacing(1),border:`solid 1px ${e.colors.border.medium}`,borderRadius:e.shape.radius.default,position:"relative"}),description:(0,f.css)({color:e.colors.text.secondary,fontSize:e.typography.size.sm,fontWeight:e.typography.fontWeightRegular,margin:0}),deleteIcon:(0,f.css)({position:"absolute",right:e.spacing(1),top:e.spacing(1)}),addButton:(0,f.css)({marginTop:e.spacing(1)})}),te=({option:e,pathPrefix:r,errors:a,defaultValues:l,readOnly:u=!1})=>{const o=(0,N.of)(ee),i=`${r}${e.propertyName}`,m=(0,A.xW)(),{fields:y,append:h,remove:x}=(0,L.r)({name:i,formAPI:m,defaults:l});return(0,t.jsx)("div",{className:o.wrapper,children:(0,t.jsxs)(w.i,{className:o.collapsibleSection,label:`${e.label} (${y.length})`,description:e.description,children:[(y??l??[]).map((g,E)=>(0,t.jsxs)("div",{className:o.wrapper,children:[!u&&(0,t.jsx)(c.M,{"data-testid":`${i}.${E}.delete-button`,icon:"trash-alt",tooltip:"delete",onClick:()=>x(E),className:o.deleteIcon}),e.subformOptions?.map(S=>(0,t.jsx)(ae,{readOnly:u,defaultValue:g?.[S.propertyName],option:S,pathPrefix:`${i}.${E}.`,error:a?.[E]?.[S.propertyName]},S.propertyName))]},E)),!u&&(0,t.jsx)(n.$n,{"data-testid":`${i}.add-button`,className:o.addButton,type:"button",variant:"secondary",icon:"plus",size:"sm",onClick:()=>h({__id:String(Math.random())}),children:"Add"})]})})},me=({option:e,pathPrefix:r,errors:a,defaultValue:l,readOnly:u=!1,secureFields:o={},onResetSecureField:i})=>{const m=(0,N.of)(ee),y=`${r}${e.propertyName}`,{watch:h}=(0,A.xW)(),x=h(y),g=x===void 0?l:x,[E,S]=(0,$.useState)(!!g);return(0,t.jsxs)("div",{className:m.wrapper,"data-testid":`${y}.container`,children:[(0,t.jsx)("h6",{children:e.label}),e.description&&(0,t.jsx)("p",{className:m.description,children:e.description}),E&&(0,t.jsxs)(t.Fragment,{children:[!u&&(0,t.jsx)(c.M,{"data-testid":`${y}.delete-button`,icon:"trash-alt",tooltip:"delete",onClick:()=>S(!1),className:m.deleteIcon}),(e.subformOptions??[]).map(b=>(0,t.jsx)(ae,{readOnly:u,secureFields:o,onResetSecureField:i,defaultValue:l?.[b.propertyName],parentOption:e,option:b,pathPrefix:`${y}.`,error:a?.[b.propertyName]},b.propertyName))]}),!E&&!u&&(0,t.jsx)(n.$n,{className:m.addButton,type:"button",variant:"secondary",icon:"plus",size:"sm",onClick:()=>S(!0),"data-testid":`${y}.add-button`,children:"Add"})]})};var pe=s(73287),fe=s(87978),z=s(67061),ge=s(94354),ve=s(29158),he=s(94753),se=s(25027),xe=s(76242),je=s(33302),ie=s(70383),ye=s(33594),Ce=s(70713),oe=s(90613),Ee=s(57220),ce=s(41965),Te=s(18996),Se=s(78253),$e=s(10506);function Ne({payload:e,templateContent:r,templateName:a,payloadFormatError:l,setPayloadFormatError:u,className:o}){const i=(0,N.of)(Re),{selectedAlertmanager:m}=(0,ie.VI)(),y=m===Ee.hY,{data:h,error:x}=(0,$e.g)(r,a,e,u),g=(0,Se.P)(x,l,h);return(0,t.jsxs)("div",{className:(0,f.cx)(o,i.mainContainer),children:[(0,t.jsxs)("div",{className:i.container,children:[(0,t.jsx)(ce.D,{label:"Template content"}),(0,t.jsx)(oe.a,{flex:1,children:(0,t.jsx)("div",{className:i.viewerContainer({height:400}),children:(0,t.jsx)(Ce.Ay,{children:({width:E,height:S})=>(0,t.jsx)(Te.K,{value:r,containerStyles:i.editorContainer,width:E,height:S,readOnly:!0})})})})]}),y&&(0,t.jsxs)("div",{className:i.container,children:[(0,t.jsx)(ce.D,{label:"Preview with the default payload"}),(0,t.jsx)(oe.a,{flex:1,children:(0,t.jsx)("div",{className:i.viewerContainer({height:"minHeight"}),children:g})})]})]})}const Re=e=>({mainContainer:(0,f.css)({display:"flex",flexDirection:"column",gap:e.spacing(2)}),container:(0,f.css)({label:"template-preview-container",display:"flex",flexDirection:"column",borderRadius:e.shape.radius.default,border:`1px solid ${e.colors.border.medium}`}),viewerContainer:({height:r})=>(0,f.css)({height:r,overflow:"auto",backgroundColor:e.colors.background.primary}),editorContainer:(0,f.css)({width:"fit-content",border:"none"})});var H=s(22153);function ne({onSelect:e,option:r,valueInForm:a}){const[l,u]=(0,$.useState)(!1),o=()=>{u(!0),(0,se.U6)()};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.$n,{icon:"edit",tooltip:"Edit using existing templates.",onClick:o,variant:"secondary",size:"sm","aria-label":"Select available template from the list of available templates.",children:`Edit ${r.label}`}),l&&(0,t.jsx)(fe._,{title:`Edit ${r.label}`,size:"md",onClose:()=>u(!1),children:(0,t.jsx)(Ie,{onSelect:e,onClose:()=>u(!1),option:r,valueInForm:a})})]})}function Pe(e,r=[]){const a=new Map;return e.forEach(({content:l})=>{(0,H.D)(l).forEach(o=>{a.set(o.name,{label:o.name,value:{name:o.name,content:o.content}})})}),r.forEach(l=>{a.set(l.name,{label:l.name,value:{name:l.name,content:l.content}})}),Array.from(a.values())}function Ae(e,r){return r.find(l=>l.label===e)?.value?.content??""}function Ie({onSelect:e,onClose:r,option:a,valueInForm:l}){const u=(0,N.of)(ue),o=xe.E3.endpoints.getDefaultTemplates.useQuery,[i,m]=(0,$.useState)(void 0),[y,h]=(0,$.useState)(""),[x,g]=(0,$.useState)(l),{selectedAlertmanager:E}=(0,ie.VI)(),{data:S=[],error:b,isLoading:X}=(0,je.cC)({alertmanager:E}),{data:R}=o(),[W,Q]=(0,$.useState)("Existing"),[Z,q]=(0,pe.A)(),T=[{label:"Select existing template",value:"Existing",description:`Select a single template and preview it, or copy it to paste it in the custom tab. ${W==="Existing"?"Clicking Save will save your changes to the selected template.":""}`},{label:`Enter custom ${a.label.toLowerCase()}`,value:"Custom",description:`Enter custom ${a.label.toLowerCase()}. ${W==="Custom"?"Clicking Save will save the custom value only.":""}`}];(0,$.useEffect)(()=>{i&&h((0,H.Jl)(i.name))},[i]);function K(G){g(G)}const le=G=>{Q(G)},k=(0,$.useMemo)(()=>!R||!S||X||b?[]:Pe(S,R),[S,R,X,b]);return(0,$.useEffect)(()=>{if(l)if((0,H.G7)(l)){const G=(0,H.gY)(l);m({name:G,content:Ae(G,k)})}else Q("Custom")},[l,m,Q,k]),b?(0,t.jsx)("div",{children:"Error loading templates"}):X||!S||!R?(0,t.jsx)("div",{children:"Loading..."}):(0,t.jsxs)(z.B,{direction:"column",gap:1,justifyContent:"space-between",height:"100%",children:[(0,t.jsxs)(z.B,{direction:"column",gap:1,children:[(0,t.jsx)(ge.z,{options:T,value:W,onChange:le,className:u.templateTabOption}),W==="Existing"?(0,t.jsxs)(z.B,{direction:"column",gap:1,children:[(0,t.jsxs)(z.B,{direction:"row",gap:1,alignItems:"center",children:[(0,t.jsx)(V.l6,{placeholder:"Choose template","aria-label":"Choose template",onChange:(G,Fe)=>{m(G?.value)},options:k,width:50,value:i?{label:i.name,value:i}:void 0}),(0,t.jsx)(ve.K,{tooltip:"Copy selected template to clipboard. You can use it in the custom tab.",onClick:()=>q((0,H.Jl)(i?.name??"")),name:"copy"})]}),(0,t.jsx)(Ne,{templateContent:i?.content??"",payload:ye.R_,templateName:i?.name??"",setPayloadFormatError:()=>{},className:(0,f.cx)(u.templatePreview,u.minEditorSize),payloadFormatError:null})]}):(0,t.jsx)(Oe,{option:a,onCustomTemplateChange:K,initialValue:x})]}),(0,t.jsxs)("div",{className:u.actions,children:[(0,t.jsx)(n.$n,{variant:"secondary",onClick:r,children:"Cancel"}),(0,t.jsx)(n.$n,{variant:"primary",onClick:()=>{e(W==="Custom"?x:y),r(),W==="Custom"?(0,se.t6)():(0,se.Cl)()},children:"Save"})]})]})}function Oe({option:e,onCustomTemplateChange:r,initialValue:a}){switch(e.element){case"textarea":return(0,t.jsx)(z.B,{direction:"row",gap:1,alignItems:"center",children:(0,t.jsx)(D.f,{placeholder:e.placeholder,onChange:l=>r(l.currentTarget.value),defaultValue:a})});case"input":return(0,t.jsx)(z.B,{direction:"row",gap:1,alignItems:"center",children:(0,t.jsx)(O.p,{type:e.inputType,placeholder:e.placeholder,onChange:l=>r(l.currentTarget.value),defaultValue:a})});default:return null}}function de({useTemplates:e,onSelectTemplate:r,option:a,name:l,children:u}){const o=(0,N.of)(ue),{getValues:i}=(0,A.xW)(),m=i(l)??"";return!a.placeholder.includes("{{ template ")||typeof m!="string"?(0,t.jsx)(t.Fragment,{children:u}):m?(m?(0,H.G7)(m):!1)?(0,t.jsx)("div",{className:o.inputContainer,children:(0,t.jsxs)(z.B,{direction:"row",gap:1,alignItems:"center",children:[(0,t.jsx)(he.E,{variant:"bodySmall",children:`Template: ${(0,H.gY)(m)}`}),e&&(0,t.jsx)(ne,{onSelect:r,option:a,valueInForm:i(l)??""})]})}):(0,t.jsx)("div",{className:o.inputContainer,children:(0,t.jsxs)(z.B,{direction:"row",gap:1,alignItems:"center",children:[u,e&&(0,t.jsx)(ne,{onSelect:r,option:a,valueInForm:i(l)??""})]})}):(0,t.jsx)("div",{className:o.inputContainer,children:(0,t.jsx)(z.B,{direction:"row",gap:1,alignItems:"center",children:e&&(0,t.jsx)(ne,{onSelect:r,option:a,valueInForm:i(l)??""})})})}const ue=e=>({actions:(0,f.css)({flex:0,justifyContent:"flex-end",display:"flex",gap:e.spacing(1)}),templatePreview:(0,f.css)({flex:1,display:"flex"}),templateTabOption:(0,f.css)({width:"fit-content"}),minEditorSize:(0,f.css)({minHeight:300,minWidth:300}),inputContainer:(0,f.css)({marginTop:e.spacing(1.5)})}),ae=({option:e,parentOption:r,invalid:a,pathPrefix:l,pathSuffix:u="",error:o,defaultValue:i,readOnly:m=!1,customValidator:y,onResetSecureField:h,secureFields:x={}})=>{const g=`${l}${u}`;return e.element==="subform"?(0,t.jsx)(me,{secureFields:x,onResetSecureField:h,readOnly:m,defaultValue:i,option:e,errors:o,pathPrefix:g}):e.element==="subform_array"?(0,t.jsx)(te,{readOnly:m,defaultValues:i,option:e,pathPrefix:g,errors:o}):(0,t.jsx)(J.D,{label:e.element!=="checkbox"&&e.element!=="radio"?e.label:void 0,description:e.description||void 0,invalid:!!o,error:o?.message,"data-testid":`${g}${e.propertyName}`,children:(0,t.jsx)(be,{id:`${g}${e.propertyName}`,defaultValue:i,option:e,invalid:a,pathPrefix:g,readOnly:m,pathIndex:l,parentOption:r,customValidator:y,onResetSecureField:h,secureFields:x})})},be=({option:e,invalid:r,id:a,pathPrefix:l="",pathIndex:u="",readOnly:o=!1,customValidator:i,onResetSecureField:m,secureFields:y={},parentOption:h})=>{const x=(0,N.of)(Me),{control:g,register:E,unregister:S,getValues:b,setValue:X}=(0,A.xW)(),R=`${l}${e.propertyName}`,W=h?`${h.propertyName}.${e.propertyName}`:e.propertyName,Q=y?.[W];(0,$.useEffect)(()=>()=>{S(R,{keepValue:!1})},[S,R]);const Z=e.placeholder.includes("{{ template");function q(T){X(R,T)}switch(e.element){case"checkbox":return(0,t.jsx)(P.S,{id:a,readOnly:o,disabled:o,className:x.checkbox,...E(R),label:e.label,description:e.description});case"input":return(0,t.jsx)(de,{useTemplates:Z,option:e,name:R,onSelectTemplate:q,children:Q?(0,t.jsx)(U.L4,{onReset:()=>m?.(W),isConfigured:!0}):(0,t.jsx)(O.p,{id:a,readOnly:o||Z||De(e,b,u),invalid:r,type:e.inputType,...E(R,{required:Be(e,b,u),validate:{validationRule:T=>e.validationRule?re(T,e.validationRule,e.required):!0,customValidator:T=>i?i(T):!0},setValueAs:e.setValueAs}),placeholder:e.placeholder})});case"select":return(0,t.jsx)(A.xI,{render:({field:{onChange:T,ref:K,...le}})=>(0,t.jsx)(V.l6,{disabled:o,options:e.selectOptions??void 0,invalid:r,onChange:k=>T(k.value),...le}),control:g,name:R,defaultValue:e.defaultValue?.value,rules:{validate:{customValidator:T=>i?i(T):!0}}});case"radio":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("legend",{className:x.legend,children:e.label}),(0,t.jsx)(A.xI,{render:({field:{ref:T,...K}})=>(0,t.jsx)(M.a,{disabled:o,options:e.selectOptions??[],...K}),control:g,defaultValue:e.defaultValue?.value,name:R,rules:{required:e.required?"Option is required":!1,validate:{validationRule:T=>e.validationRule?re(T,e.validationRule,e.required):!0,customValidator:T=>i?i(T):!0}}})]});case"textarea":return(0,t.jsx)(de,{useTemplates:Z,option:e,name:R,onSelectTemplate:q,children:Q?(0,t.jsx)(B.lp,{onReset:()=>m?.(W),isConfigured:!0}):(0,t.jsx)(D.f,{id:a,readOnly:o||Z,invalid:r,placeholder:e.placeholder,...E(R,{required:e.required?"Required":!1,validate:T=>e.validationRule!==""?re(T,e.validationRule,e.required):!0})})});case"string_array":return(0,t.jsx)(A.xI,{render:({field:{value:T,onChange:K}})=>(0,t.jsx)(j,{readOnly:o,value:T,onChange:K}),control:g,name:R});case"key_value_map":return(0,t.jsx)(A.xI,{render:({field:{value:T,onChange:K}})=>(0,t.jsx)(d,{readOnly:o,value:T,onChange:K}),control:g,name:R});default:return console.error("Element not supported",e.element),null}},Me=e=>({checkbox:(0,f.css)({height:"auto"}),legend:(0,f.css)({fontSize:e.typography.h6.fontSize})}),re=(e,r,a)=>e===""&&!a||RegExp(r).test(e)?!0:"Invalid format",Be=(e,r,a)=>e.dependsOn?(0,F.isEmpty)(r(`${a}secureFields`))?!r(`${a}secureSettings.${e.dependsOn}`)&&e.required?"Required":!1:!r(`${a}secureFields.${e.dependsOn}`)&&e.required?"Required":!1:e.required?"Required":!1,De=(e,r,a)=>e.dependsOn?(0,F.isEmpty)(r(`${a}secureFields`))?r(`${a}secureSettings.${e.dependsOn}`):r(`${a}secureFields.${e.dependsOn}`):!1},45124:(_,Y,s)=>{s.d(Y,{r:()=>A});var t=s(2543),f=s.n(t),F=s(96540);const $=[];function A(J){const{name:N,formAPI:P,defaults:U,softDelete:O}=J,{watch:V,getValues:M,reset:B,setValue:D}=P,n=V(N)??U??$,c=(0,F.useCallback)(d=>{const p=JSON.parse(JSON.stringify(M())),C=d(n??[]);B((0,t.set)(p,N,C))},[M,N,B,n]);return{fields:n,append:(0,F.useCallback)(d=>c(p=>[...p,d]),[c]),remove:(0,F.useCallback)(d=>{O?D(`${N}.${d}.__deleted`,!0):c(p=>{const C=p.slice();return C.splice(d,1),C})},[c,N,D,O])}}},72399:(_,Y,s)=>{s.d(Y,{FN:()=>M,Iq:()=>$,QX:()=>J,Xo:()=>F,bB:()=>A,qg:()=>O});var t=s(2543),f=s.n(t);function F(n,c){const d={};let p=1;return[{name:n.name,items:n.grafana_managed_receiver_configs?.map(v=>{const j=String(p++);d[j]=v;const I=c.find(({type:L})=>L===v.type);return P(j,v,I)})??[]},d]}function $(n,c){const d={};let p=1;const C=Object.entries(n).filter(([j])=>j.endsWith("_configs")&&j!=="grafana_managed_receiver_configs").map(([j,I])=>[j.replace("_configs",""),I]).map(([j,I])=>I.map(L=>{const w=String(p++);if(d[w]={type:j,config:L},!c.find(te=>te.type===j))throw new Error(`unknown cloud notifier: ${j}`);return N(w,j,L)})).flat();return[{name:n.name,items:C},d]}function A(n,c,d,p){return{name:n.name,grafana_managed_receiver_configs:(n.items??[]).map(C=>{const v=c[C.__id],j=p.find(I=>I.type===C.type);return O(C,d,n.name,v,j)})}}function J(n,c){const d={name:n.name};return n.items.forEach(({__id:p,type:C,settings:v,sendResolved:j})=>{const I=M({...D(v),send_resolved:j??c.sendResolved});`${C}_configs`in d?d[`${C}_configs`]?.push(I):d[`${C}_configs`]=[I]}),d}function N(n,c,d){return{__id:n,type:c,settings:{...d},secureFields:{},secureSettings:{},sendResolved:d.send_resolved}}function P(n,c,d){return{__id:n,type:c.type,provenance:c.provenance,secureSettings:{},settings:{...c.settings},secureFields:{...c.secureFields},disableResolveMessage:c.disableResolveMessage}}function U(n){const c=[];function d(p,C){for(const v of p){const j=C?`${C}.${v.propertyName}`:v.propertyName;if(v.subformOptions){d(v.subformOptions,j);continue}if(v.secure){c.push(j);continue}}}return d(n.options),c}function O(n,c,d,p,C){const v={settings:M({...p&&p.type===n.type?p.settings??{}:{},...n.settings??{}}),secureSettings:B(n.secureSettings,p?.secureFields),type:n.type,name:d,disableResolveMessage:n.disableResolveMessage??p?.disableResolveMessage??c.disableResolveMessage},j=C?U(C):[],I=(0,t.reduce)(j,(L={},w)=>(L[w]=(0,t.get)(v.settings,w)??(0,t.get)(n.secureFields,w),L),{});return v.secureSettings={...I,...v.secureSettings},v.settings=(0,t.omit)(v.settings,j),p&&(v.uid=p.uid),v}const V=n=>(0,t.isNil)(n)||n==="";function M(n){return(0,t.isArray)(n)?n.forEach(M):typeof n=="object"&&n!==null&&Object.entries(n).forEach(([c,d])=>{V(d)?delete n[c]:M(d)}),n}function B(n={},c={}){return(0,t.omitBy)(n,(d,p)=>V(d)&&!(0,t.has)(c,p))}function D(n){function c(p){(0,t.isArray)(p)?p.forEach(c):typeof p=="object"&&p!==null&&("__id"in p&&delete p.__id,Object.values(p).forEach(c))}const d=structuredClone(n);return c(d),d}}}]);

//# sourceMappingURL=4085.ac775c75060213b6463d.js.map